WEB服务器集群环境搭建
1. 单机访问限制
2. 同域名不同server间需要解决的问题
    session， 公用目录
3. Apache集群
    LoadModule headers_module modules/mod_headers.so
    LoadModule lbmethod_bybusyness_module modules/mod_lbmethod_bybusyness.so
    LoadModule lbmethod_byrequests_module modules/mod_lbmethod_byrequests.so
    LoadModule lbmethod_bytraffic_module modules/mod_lbmethod_bytraffic.so
    LoadModule lbmethod_heartbeat_module modules/mod_lbmethod_heartbeat.so
    LoadModule proxy_module modules/mod_proxy.so
    LoadModule proxy_balancer_module modules/mod_proxy_balancer.so
    LoadModule proxy_http_module modules/mod_proxy_http.so
    
    <VirtualHost *:80>
        ServerAdmin webmaster@web.oradt.com
        DocumentRoot "G:/Git/teamStudy/Wangzaixin"
        ServerName win.oradt.com
        # 头信息和环境变量
        Header add SERVER_ID win
        SetEnv SERVER_ID win
        
        ErrorLog "logs/win.oradt.com-error.log"
        CustomLog "logs/win.oradt.com-access.log" common
    </VirtualHost>
    
    <VirtualHost *:80>
        ServerAdmin webmaster@web.oradt.com
        DocumentRoot "G:/Git/teamStudy"
        ServerName cluster.oradt.com
        ErrorLog "logs/cluster.oradt.com-error.log"
        CustomLog "logs/cluster.oradt.com-access.log" common
        
        # 开启反向代理
        ProxyRequests Off
        #"!"指令设定某个子目录不需要进行反向代理
        ProxyPass /no !
        # 以 / 结尾
        Proxypass / balancer://proxy/
        <Proxy balancer://proxy>
            ProxySet lbmethod=bytraffic
            #lbmethod=byrequests 按照请求次数均衡(默认) 
            #lbmethod=bytraffic 按照流量均衡 
            #lbmethod=bybusyness 按照繁忙程度均衡(总是分配给活跃请求数最少的服务器)
            Order Deny,Allow
            Allow from all
            BalancerMember http://server1.oradt.com loadfactor=3
            BalancerMember http://server2.oradt.com loadfactor=2
            BalancerMember http://server3.oradt.com loadfactor=1
            BalancerMember http://win.oradt.com loadfactor=5
        </Proxy>
    </VirtualHost>
    
4. 模块分布式部署
5. 数据库主从部署
   5.1 主库建立用来复制的用户账号
   5.2 主库my.ini
        server-id = 2
        # Replication Slave (comment out master section to use this)
        # skip-slave-start 主库注释掉
        log-bin=mysql-bin   
        log_error=mysql-bin.err
        # binlog_do_db=duplication_db # 设置那个库操作生成日志
        # binlog_ignore_db=db_anme    # 设置哪个库操作不记录日志
   5.3 从库my.ini 
        server-id = 1495005862

        # Replication Slave (comment out master section to use this)
        # New for MySQL 5.6 if no slave
        skip-slave-start
        log-bin=mysql-bin
        replicate-do-db=duplication_db   # 设置要复制的数据库
        replicate_ignore_db=dbname       # 设置复制时忽略的数据库
   5.4 从库命令行设置
        mysql> show slave status;
        mysql> change master to master_log_file="mysql-bin.000002";  # 指定从哪个文件开始。 具体支持的参数， 从 show slave status 中获得
   5.5 mysql/data/auto.cnf 中的 server_uuid 在服务器集群中， 不能重复
6. 文件缓存